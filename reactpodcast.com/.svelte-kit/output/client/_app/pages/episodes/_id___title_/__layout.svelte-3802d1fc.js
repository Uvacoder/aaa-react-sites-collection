import{O as Ne,S as Te,i as Se,s as Ve,J as we,e as p,t as M,k as A,l as ke,c as _,a as m,g as D,d as i,n as N,b as o,f as C,H as t,L as je,x as ye,u as Me,y as Pe,h as Q,I as R,M as De,D as Ge,P as Ie,Q as X,E as Ce,F as Je,G as Oe}from"../../../chunks/vendor-470ba9fa.js";import{e as J}from"../../../chunks/paths-0bd14fe0.js";const Ye=a=>({episode:a&1}),Ae=a=>({episode:a[0]});function Fe(a){let e,l,s=a[3].message+"",r;return{c(){e=p("p"),l=M("Something went wrong: "),r=M(s)},l(n){e=_(n,"P",{});var d=m(e);l=D(d,"Something went wrong: "),r=D(d,s),d.forEach(i)},m(n,d){C(n,e,d),t(e,l),t(e,r)},p(n,d){d&1&&s!==(s=n[3].message+"")&&Q(r,s)},i:R,o:R,d(n){n&&i(e)}}}function He(a){let e,l,s,r,n,d,y=De(new Date(a[0].published_at),"MMM d, yyyy")+"",h,c,E,u,j,T,O=a[0].title+"",$,q,x,ee,I,b,z,U,te,P,Y=a[0].description+"",Z,ae,S,se,B,re,V,le,L,oe,ie,G,F,H=JSON.stringify(a[0],null,2)+"",K,g;const ne=a[2].default,w=Ge(ne,a,a[1],Ae);return{c(){e=p("main"),l=p("div"),s=p("div"),r=p("div"),n=p("p"),d=p("time"),h=M(y),E=A(),u=p("div"),j=p("h1"),T=p("a"),$=M(O),x=A(),ee=A(),I=p("div"),b=p("iframe"),te=A(),P=p("p"),Z=M(Y),ae=A(),S=p("a"),se=M("Notes"),re=A(),V=p("a"),le=M("Transcript"),oe=A(),w&&w.c(),ie=A(),G=p("div"),F=p("pre"),K=M(H),this.h()},l(f){e=_(f,"MAIN",{});var v=m(e);l=_(v,"DIV",{"data-window-content":!0});var de=m(l);s=_(de,"DIV",{class:!0});var fe=m(s);r=_(fe,"DIV",{});var W=m(r);n=_(W,"P",{class:!0});var ce=m(n);d=_(ce,"TIME",{datetime:!0});var ue=m(d);h=D(ue,y),ue.forEach(i),ce.forEach(i),E=N(W),u=_(W,"DIV",{});var k=m(u);j=_(k,"H1",{class:!0});var he=m(j);T=_(he,"A",{href:!0});var pe=m(T);$=D(pe,O),pe.forEach(i),he.forEach(i),x=N(k),ee=N(k),I=_(k,"DIV",{style:!0});var _e=m(I);b=_(_e,"IFRAME",{title:!0,class:!0,height:!0,width:!0,frameborder:!0,scrolling:!0,seamless:!0,src:!0}),m(b).forEach(i),_e.forEach(i),te=N(k),P=_(k,"P",{class:!0});var me=m(P);Z=D(me,Y),me.forEach(i),ae=N(k),S=_(k,"A",{href:!0});var ve=m(S);se=D(ve,"Notes"),ve.forEach(i),re=N(k),V=_(k,"A",{href:!0});var Ee=m(V);le=D(Ee,"Transcript"),Ee.forEach(i),oe=N(k),w&&w.l(k),k.forEach(i),W.forEach(i),fe.forEach(i),de.forEach(i),ie=N(v),G=_(v,"DIV",{id:!0});var be=m(G);F=_(be,"PRE",{});var ge=m(F);K=D(ge,H),ge.forEach(i),be.forEach(i),v.forEach(i),this.h()},h(){o(d,"datetime",c=a[0].published_at),o(n,"class","text-sm leading-5 text-gray-500"),o(T,"href",q="/episodes/"+J(a[0])),o(j,"class","mt-2 text-xl leading-7 font-semibold text-gray-900"),o(b,"title",z="Media player for episode "+a[0].title),o(b,"class","my-4"),o(b,"height","200px"),o(b,"width","100%"),o(b,"frameborder","no"),o(b,"scrolling","no"),o(b,"seamless",""),Ie(b.src,U="https://player.simplecast.com/"+a[0].id+"?dark=true")||o(b,"src",U),X(I,"position","sticky"),X(I,"top","0"),X(I,"z-index","900"),X(I,"background-color","white"),o(P,"class","mt-3 text-base leading-6 text-gray-600"),o(S,"href",B="/episodes/"+J(a[0])),o(V,"href",L="/episodes/"+J(a[0])+"/transcript"),o(s,"class","border-t-2 border-gray-100 pt-6"),o(l,"data-window-content",""),o(G,"id","log")},m(f,v){C(f,e,v),t(e,l),t(l,s),t(s,r),t(r,n),t(n,d),t(d,h),t(r,E),t(r,u),t(u,j),t(j,T),t(T,$),t(u,x),t(u,ee),t(u,I),t(I,b),t(u,te),t(u,P),t(P,Z),t(u,ae),t(u,S),t(S,se),t(u,re),t(u,V),t(V,le),t(u,oe),w&&w.m(u,null),t(e,ie),t(e,G),t(G,F),t(F,K),g=!0},p(f,v){(!g||v&1)&&y!==(y=De(new Date(f[0].published_at),"MMM d, yyyy")+"")&&Q(h,y),(!g||v&1&&c!==(c=f[0].published_at))&&o(d,"datetime",c),(!g||v&1)&&O!==(O=f[0].title+"")&&Q($,O),(!g||v&1&&q!==(q="/episodes/"+J(f[0])))&&o(T,"href",q),(!g||v&1&&z!==(z="Media player for episode "+f[0].title))&&o(b,"title",z),(!g||v&1&&!Ie(b.src,U="https://player.simplecast.com/"+f[0].id+"?dark=true"))&&o(b,"src",U),(!g||v&1)&&Y!==(Y=f[0].description+"")&&Q(Z,Y),(!g||v&1&&B!==(B="/episodes/"+J(f[0])))&&o(S,"href",B),(!g||v&1&&L!==(L="/episodes/"+J(f[0])+"/transcript"))&&o(V,"href",L),w&&w.p&&(!g||v&3)&&Ce(w,ne,f,f[1],g?Oe(ne,f[1],v,Ye):Je(f[1]),Ae),(!g||v&1)&&H!==(H=JSON.stringify(f[0],null,2)+"")&&Q(K,H)},i(f){g||(ye(w,f),g=!0)},o(f){Me(w,f),g=!1},d(f){f&&i(e),w&&w.d(f)}}}function Qe(a){let e,l;return{c(){e=p("p"),l=M("waiting for the promise to resolve...")},l(s){e=_(s,"P",{});var r=m(e);l=D(r,"waiting for the promise to resolve..."),r.forEach(i)},m(s,r){C(s,e,r),t(e,l)},p:R,i:R,o:R,d(s){s&&i(e)}}}function Re(a){let e,l,s,r,n,d,y,h={ctx:a,current:null,token:null,hasCatch:!0,pending:Qe,then:He,catch:Fe,value:0,error:3,blocks:[,,,]};return we(d=a[0],h),{c(){e=p("header"),l=p("a"),s=M("\u2190 All Episodes"),r=A(),n=ke(),h.block.c(),this.h()},l(c){e=_(c,"HEADER",{"data-window-content":!0,class:!0});var E=m(e);l=_(E,"A",{href:!0});var u=m(l);s=D(u,"\u2190 All Episodes"),u.forEach(i),E.forEach(i),r=N(c),n=ke(),h.block.l(c),this.h()},h(){o(l,"href","/"),o(e,"data-window-content",""),o(e,"class","my-4")},m(c,E){C(c,e,E),t(e,l),t(l,s),C(c,r,E),C(c,n,E),h.block.m(c,h.anchor=E),h.mount=()=>n.parentNode,h.anchor=n,y=!0},p(c,[E]){a=c,h.ctx=a,E&1&&d!==(d=a[0])&&we(d,h)||je(h,a,E)},i(c){y||(ye(h.block),y=!0)},o(c){for(let E=0;E<3;E+=1){const u=h.blocks[E];Me(u)}y=!1},d(c){c&&i(e),c&&i(r),c&&i(n),h.block.d(c),h.token=null,h=null}}}const Ue=!0;async function Ze({page:a,fetch:e}){const l=`https://api.simplecast.com/episodes/${a.params.id}`,s=await e(l,{method:"GET",headers:{authorization:"Bearer eyJhcGlfa2V5IjoiMGI1NTFjYmE4NTU2ZmYyM2I3YTM2YjU0ODk5ZGQ2MTMifQ=="}});if(s.ok){let r=await s.json();return{props:{episode:r},maxage:Ne(new Date(Date.now()),new Date(r.published_at))>=7?3600:0}}return{status:s.status,error:new Error(`Could not load ${l}`)}}function $e(a,e,l){let{$$slots:s={},$$scope:r}=e,{episode:n}=e;return Pe("episode",n),a.$$set=d=>{"episode"in d&&l(0,n=d.episode),"$$scope"in d&&l(1,r=d.$$scope)},[n,r,s]}class Be extends Te{constructor(e){super();Se(this,e,$e,Re,Ve,{episode:0})}}export{Be as default,Ze as load,Ue as prerender};
